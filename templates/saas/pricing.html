{% extends 'base.html' %}
{% load static %}

{% block content %}
<section class="py-5 bg-dark position-relative overflow-hidden" style="background-color: #0F172A !important;">
    <div class="position-absolute top-0 start-0 w-100 h-100" style="background-image: radial-gradient(circle at 10% 20%, rgba(34, 197, 94, 0.1) 0%, transparent 20%);"></div>

    <div class="container py-5 position-relative z-2 text-center">
        <span class="badge bg-warning text-dark fw-bold px-3 py-2 rounded-pill mb-3">DEALER PARTNERSHIP</span>
        <h1 class="display-3 fw-bold text-white mb-4">Sell Faster. <span class="text-success">Scale Bigger.</span></h1>
        <p class="lead text-white-50 mb-5 mx-auto" style="max-width: 700px;">
            Join the ecosystem that connects your inventory to <strong>Bank Financing</strong>, <strong>Diaspora Buyers</strong>, and our <strong>Green Impact</strong> network.
        </p>

        <div class="d-inline-flex bg-white bg-opacity-10 rounded-pill p-1 mb-5 border border-white border-opacity-10">
            <button class="btn btn-success rounded-pill px-4 fw-bold btn-sm">Monthly Billing</button>
            <button class="btn btn-transparent text-white rounded-pill px-4 fw-bold btn-sm">Annual (Save 20%)</button>
        </div>

        <div class="row g-4 align-items-center">
            
            <div class="col-lg-4">
                <div class="card bg-white border-0 rounded-4 shadow-lg h-100 position-relative" style="opacity: 0.9;">
                    <div class="card-body p-5">
                        <h5 class="fw-bold text-muted text-uppercase small ls-2 mb-3">Standard</h5>
                        <div class="display-6 fw-bold text-dark mb-2">KES 2,500<small class="fs-6 text-muted">/mo</small></div>
                        <p class="text-muted small mb-4">For brokers & starters.</p>
                        
                        <hr class="opacity-10 mb-4">
                        
                        <ul class="list-unstyled text-start mb-5 space-y-3">
                            <li class="mb-3"><i class="fas fa-check text-success me-2"></i> <strong>10 Vehicles</strong> Listing Limit</li>
                            <li class="mb-3"><i class="fas fa-check text-success me-2"></i> 8 HD Photos per Car</li>
                            <li class="mb-3"><i class="fas fa-check text-success me-2"></i> Basic Dealer Dashboard</li>
                            <li class="text-muted"><i class="fas fa-times me-2"></i> No Financing Badge</li>
                            <li class="text-muted"><i class="fas fa-times me-2"></i> No Diaspora Access</li>
                        </ul>

                        <div class="d-grid">
                            {% if user.is_authenticated %}
                                {% if user.dealer_profile.plan_type == 'STARTER' %}
                                    <button class="btn btn-secondary rounded-pill fw-bold disabled">Current Plan</button>
                                {% else %}
                                    <a href="{% url 'subscription_checkout' 'STARTER' %}" class="btn btn-outline-dark rounded-pill fw-bold py-2">Select Standard</a>
                                {% endif %}
                            {% else %}
                                <a href="{% url 'signup' %}" class="btn btn-outline-dark rounded-pill fw-bold py-2">Start Standard</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card bg-white border-0 rounded-4 shadow-lg h-100 position-relative transform-scale">
                    <div class="position-absolute top-0 start-50 translate-middle">
                        <span class="badge bg-success px-3 py-2 rounded-pill shadow fw-bold">MOST POPULAR</span>
                    </div>

                    <div class="card-body p-5">
                        <h5 class="fw-bold text-warning text-uppercase small ls-2 mb-3">Gold Partner</h5>
                        <div class="display-5 fw-bold text-dark mb-2">KES 8,000<small class="fs-6 text-muted">/mo</small></div>
                        <p class="text-muted small mb-4">For established yards.</p>
                        
                        <hr class="opacity-10 mb-4">
                        
                        <ul class="list-unstyled text-start mb-5">
                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i> <strong>40 Vehicles</strong> Listing Limit</li>
                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i> <strong>"Finance Ready" Badge</strong> <span class="badge bg-primary bg-opacity-10 text-primary ms-1" style="font-size: 0.65rem;">FASTER SALES</span></li>
                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i> 15 HD Photos per Car</li>
                            <li class="mb-3"><i class="fas fa-check-circle text-success me-2"></i> Direct Lead WhatsApp</li>
                            <li class="text-muted"><i class="fas fa-times me-2"></i> No Diaspora Access</li>
                        </ul>

                        <div class="d-grid">
                            {% if user.is_authenticated %}
                                {% if user.dealer_profile.plan_type == 'LITE' %}
                                    <button class="btn btn-success bg-opacity-25 text-success border-0 rounded-pill py-3 fw-bold disabled">Current Plan</button>
                                {% else %}
                                    <a href="{% url 'subscription_checkout' 'LITE' %}" class="btn btn-success rounded-pill fw-bold py-3 shadow-lg hover-lift">Upgrade to Gold</a>
                                {% endif %}
                            {% else %}
                                <a href="{% url 'signup' %}" class="btn btn-success rounded-pill fw-bold py-3 shadow-lg hover-lift">Get Started</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <div class="card bg-dark border border-secondary border-opacity-50 rounded-4 shadow-lg h-100 text-white">
                    <div class="card-body p-5">
                        <h5 class="fw-bold text-info text-uppercase small ls-2 mb-3">Platinum</h5>
                        <div class="display-6 fw-bold text-white mb-2">KES 25,000<small class="fs-6 text-white-50">/mo</small></div>
                        <p class="text-white-50 small mb-4">For market leaders.</p>
                        
                        <hr class="border-secondary mb-4">
                        
                        <ul class="list-unstyled text-start mb-5">
                            <li class="mb-3"><i class="fas fa-check text-info me-2"></i> <strong>150 Vehicles</strong> (Bulk Upload)</li>
                            <li class="mb-3"><i class="fas fa-check text-info me-2"></i> <strong>Diaspora Market Access</strong> <span class="badge bg-light text-dark ms-1" style="font-size: 0.65rem;">USD BUYERS</span></li>
                            <li class="mb-3"><i class="fas fa-check text-info me-2"></i> <strong>"Verified Dealer"</strong> Blue Tick</li>
                            <li class="mb-3"><i class="fas fa-check text-info me-2"></i> Priority Search Ranking</li>
                            <li class="mb-3"><i class="fas fa-check text-info me-2"></i> Dedicated Account Manager</li>
                        </ul>

                        <div class="d-grid">
                            {% if user.is_authenticated %}
                                {% if user.dealer_profile.plan_type == 'PRO' %}
                                    <button class="btn btn-outline-light rounded-pill py-2 fw-bold disabled">Current Plan</button>
                                {% else %}
                                    <a href="{% url 'subscription_checkout' 'PRO' %}" class="btn btn-light text-dark rounded-pill fw-bold py-2">Go Platinum</a>
                                {% endif %}
                            {% else %}
                                <a href="{% url 'signup' %}" class="btn btn-light text-dark rounded-pill fw-bold py-2">Contact Sales</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

        </div>
        
        <div class="row justify-content-center mt-5 pt-4">
            <div class="col-lg-8">
                <p class="text-white-50 mb-3 small">TRUSTED BY OVER 150 DEALERSHIPS ACROSS KENYA</p>
                <div class="d-flex justify-content-center gap-4 opacity-50 grayscale">
                    <i class="fas fa-car fa-2x text-white"></i>
                    <i class="fas fa-hand-holding-usd fa-2x text-white"></i>
                    <i class="fas fa-university fa-2x text-white"></i>
                    <i class="fas fa-shield-alt fa-2x text-white"></i>
                </div>
            </div>
        </div>

    </div>
</section>

<section class="py-5 bg-light">
    <div class="container py-4">
        <h3 class="fw-bold text-center mb-5">Frequently Asked Questions</h3>
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="accordion accordion-flush shadow-sm rounded-4 bg-white" id="faqAccordion">
                    <div class="accordion-item rounded-top-4">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                How does the "Finance Ready" badge work?
                            </button>
                        </h2>
                        <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body text-muted">
                                Gold and Platinum dealers have their inventory pre-screened by our banking partners. This allows buyers to apply for loans directly on your car listing, speeding up the sale process by 3x.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                What is Diaspora Access?
                            </button>
                        </h2>
                        <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body text-muted">
                                We actively market Platinum inventory to Kenyans living in the UK, USA, and Dubai. We handle the inspection and payment escrow so you get paid safely in KES while they pay in foreign currency.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item rounded-bottom-4">
                        <h2 class="accordion-header">
                            <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                Can I change plans later?
                            </button>
                        </h2>
                        <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                            <div class="accordion-body text-muted">
                                Absolutely. You can upgrade or downgrade your plan at any time from your dashboard settings.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    .transform-scale { transform: scale(1.05); z-index: 10; }
    .hover-lift:hover { transform: translateY(-3px); box-shadow: 0 1rem 3rem rgba(0,0,0,.175)!important; transition: all 0.3s; }
    .ls-2 { letter-spacing: 2px; }
    .grayscale { filter: grayscale(100%); }
</style>
{% endblock %}